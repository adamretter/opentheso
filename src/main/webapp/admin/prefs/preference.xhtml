<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui">
    <h:panelGroup rendered="#{(roleOnTheso.isAdminOnThisTheso) || (currentUser.user.isSuperAdmin)}" >
        <h:form id="formEditPref">
            <h:panelGrid columns="1" style="background: #bbdd87">
                <p:scrollPanel style="width:450px;height:540px; border: 5px;" mode="native">
                    <p:fieldset  legend="générale" toggleable="true" collapsed="false" styleClass="styleButton2"   >
                        <h:panelGrid columns="3" style="text-align: left">
                            <h:outputLabel value="chemin site" />
                            <h:inputText value="#{roleOnTheso.nodePreference.cheminSite}" />
                            <h:outputLabel value="" />
                            
                            <h:outputLabel for="prefLangueSource"  value="#{langueBean.getMsg('conf.langSource')} " /> 
                            <h:selectOneMenu id="prefLangueSource" value="#{roleOnTheso.nodePreference.sourceLang}" style="width: 100px;">
                                <f:selectItem itemValue="fr" itemLabel="Français" />
                                <f:selectItem itemValue="en" itemLabel="Anglais" />
                                <f:selectItem itemValue="de" itemLabel="Allemand" />
                                <f:selectItem itemValue="es" itemLabel="Espagnole" />
                                <f:selectItem itemValue="it" itemLabel="Italien" />
                            </h:selectOneMenu>
                            <h:outputLabel value="" />
                            
                            <h:outputLabel value="identifier type " />
                            <h:selectOneMenu value="#{roleOnTheso.nodePreference.identifierType}" >
                                <f:selectItem itemValue="1" itemLabel="alphanumérique" />
                                <f:selectItem itemValue="2" itemLabel="numérique" />
                            </h:selectOneMenu>
                            <h:outputLabel value="" />
                            
                            <h:outputLabel value="Preferred name" />
                            <h:inputText value="#{roleOnTheso.nodePreference.preferredName}" title="#{langueBean.getMsg('conf.preferredName')}" />
                            <h:outputLink target="_blank" id="testLink2" styleClass="cbSupp"                                           
                                           value="#{(roleOnTheso.nodePreference.cheminSite)}webresources/theso/#{roleOnTheso.nodePreference.preferredName}">
                                <h:outputText title="#{langueBean.getMsg('conf.linkTest')}" value="#{langueBean.getMsg('conf.linkTest')}"/>
                            </h:outputLink>

                        </h:panelGrid>
                    </p:fieldset>

                    <p:fieldset legend="alerte" toggleable="true" collapsed="true" styleClass="styleButton2">
                        <h:panelGrid columns="1">
                            <h:outputLabel for="prefAlert" value="#{langueBean.getMsg('conf.alertCdt')}" /> 
                            <h:selectOneRadio id="prefAlert" value="#{preferencesAlertBean.alert}" >
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}"  />
                            </h:selectOneRadio>

                            <h:outputLabel for="date_debut_proposition" value="récaputulatif des propositions depuis" />
                            <p:calendar id="date_debut_proposition" value="#{preferencesAlertBean.date_debut_envoi_cdt_propos}" showOn="button" />

                            <h:outputLabel for="period_proposition" value="nombre de jour avant le prochain envoi" />
                            <p:inputNumber id="period_proposition" value="#{preferencesAlertBean.period_envoi_cdt_propos}" decimalPlaces="0" />

                            <h:outputLabel for="date_debut_valid" value="récapitulatif des validation insertion refus depuis " />
                            <p:calendar id="date_debut_valid" value="#{preferencesAlertBean.date_debut_envoi_cdt_valid}" showOn="button" />

                            <h:outputLabel for="period_validation" value="nombre de jour avant le prochain envoi" />
                            <p:inputNumber id="period_validation" value="#{preferencesAlertBean.period_envoi_cdt_valid}" decimalPlaces="0"/>

                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="Ark" toggleable="true" collapsed="true" styleClass="styleButton2" >
                        <h:panelGrid columns="2" style="text-align: left">
                            <h:outputLabel value="use Ark :" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.useArk}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>

                            <h:outputLabel value="serveur Ark" />
                            <h:inputText value="#{roleOnTheso.nodePreference.serveurArk}" />
                            <h:outputLabel value="id Naan"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.idNaan}" />
                            <h:outputLabel value="prefixe Ark"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.prefixArk}" />                                  
                            <h:outputLabel value="user Ark" />
                            <h:inputText value="#{roleOnTheso.nodePreference.userArk}" />     
                            <h:outputLabel value="passe Ark" />
                            <h:inputSecret value="#{roleOnTheso.nodePreference.passArk}" redisplay="true" />

                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="Handle" toggleable="true" collapsed="true" styleClass="styleButton2" >
                        <h:panelGrid columns="2" style="text-align: left">
                            <h:outputLabel value="use Handle :" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.useHandle}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>

                            <h:outputLabel value="path to Handle_key :" />
                            <h:inputText value="#{roleOnTheso.nodePreference.pathKeyHandle}" />
                            <h:outputLabel value="path to Handle_certificat :"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.pathCertHandle}" />
                            <h:outputLabel value="URL to API Handle : "/>
                            <h:inputText value="#{roleOnTheso.nodePreference.urlApiHandle}" />
                            <h:outputLabel value="prefixe Handle : "/>
                            <h:inputText value="#{roleOnTheso.nodePreference.prefixIdHandle}" />
                            <h:outputLabel value="prefixe privé Handle :"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.privatePrefixHandle}" />    

                            <h:outputLabel value="user Handle" />
                            <h:inputText value="#{roleOnTheso.nodePreference.userHandle}" />     
                            <h:outputLabel value="passe Handle" />
                            <h:inputSecret value="#{roleOnTheso.nodePreference.passHandle}" redisplay="true" />

                        </h:panelGrid>
                    </p:fieldset>                        
                    <p:fieldset legend="image" toggleable="true" collapsed="true" styleClass="styleButton2">

                        <h:panelGrid columns="2" style="text-align: left">
                            <h:outputLabel value="path image" />
                            <h:inputText value="#{roleOnTheso.nodePreference.pathImage}" />

                            <h:outputLabel value="dosier resize" />
                            <h:inputText value="#{roleOnTheso.nodePreference.dossierResize}" />

                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="BDD" toggleable="true" collapsed="true" styleClass="styleButton2">

                        <h:panelGrid columns="2" style="text-align: left">

                            <h:outputLabel value="BDD active" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.bddActive}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>

                            <h:outputLabel value="BDD use id" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.bddUseId}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>    

                            <h:outputLabel value="url bdd"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.urlBdd}"  />
                            <h:outputLabel value="url counter bdd"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.urlCounterBdd}"  />                                
                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="SIGB" toggleable="true" collapsed="true" styleClass="styleButton2">

                        <h:panelGrid columns="2" style="text-align: left">
                            <h:outputLabel value="z3950 actif" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.z3950actif}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>

                            <h:outputLabel value="collection addresse"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.collectionAdresse}"  />

                            <h:outputLabel value="notice url"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.noticeUrl}"  />

                            <h:outputLabel value="url encode"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.urlEncode}"  />

                            <h:outputLabel value="path notice 1"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.pathNotice1}"  />

                            <h:outputLabel value="path notice 2"/>
                            <h:inputText value="#{roleOnTheso.nodePreference.pathNotice2}"  />
                        </h:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="Webservices" toggleable="true" collapsed="true" styleClass="styleButton2">

                        <h:panelGrid columns="2" style="text-align: left">
                            <h:outputLabel value="Webservices :" />
                            <h:selectOneRadio value="#{roleOnTheso.nodePreference.webservices}">
                                <f:selectItem itemValue="true" itemLabel="#{langueBean.getMsg('yes')}" />
                                <f:selectItem itemValue="false" itemLabel="#{langueBean.getMsg('no')}" />
                            </h:selectOneRadio>
                        </h:panelGrid>
                    </p:fieldset>                        
                </p:scrollPanel>
            </h:panelGrid>
            <h:panelGrid columns="2" style="width: 450px; text-align: center">
                <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{roleOnTheso.updatePreferences()}" 
                                 action="#{preferencesAlertBean.multipleBeanAction()}" styleClass="styleButton" update=":confAll, :messages" />
            </h:panelGrid>
        </h:form> 
    </h:panelGroup>
</ui:composition>