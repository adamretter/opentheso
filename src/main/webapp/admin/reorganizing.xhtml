<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui">
   
    <p:dialog id="idReorganizing"  header="#{langueBean.getMsg('conf.reorganizing')}" widgetVar="reorganizing" modal="true" resizable="true" >

        <h:panelGroup rendered="#{currentUser.user.isSuperAdmin || roleOnTheso.isAdminOnThisTheso}">
            <fieldset class="fieldReorga">

                <legend><h:outputText value="#{langueBean.getMsg('conf.reorganizing')}" /></legend><br/>
                <h:form id="formReorganizing">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.explication')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.reorganizing}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form> 
                
                <h:form id="formRegenerateOrphans">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.regenerateOrphan')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.regenerateOrphan}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>                   
                
                <h:form id="formReorganizingOrphans">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.oprhanReplace')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.orphanReplace}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>
                
                <h:form id="formReciprocalRelation">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.reciprocalRelation')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.completeReciprocalRelation}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>
                
                <h:form id="formCompleteLackGroup">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.completeLackGroup')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.completeLackGroup}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>   
                
                <h:form id="formDetectNoGroup">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.detectNoGroup')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.detectAndReplaceNoGroup}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>                 
                
                <h:form id="formCompleteLackTopTerm">
                    <table>
                        <tr>
                            <td><h:outputText value="#{langueBean.getMsg('conf.reorganizing.completeLackTopTerm')}" />  </td>
                        </tr>
                    </table>
                    <p:commandButton value="#{langueBean.getMsg('conf.btnValid')}" actionListener="#{theso.reorganizingTopTerm}" 
                                     oncomplete="PF('reorganizing').hide();" styleClass="styleButton" />
                </h:form>                
                
            </fieldset>
        </h:panelGroup>
    </p:dialog>
</ui:composition>