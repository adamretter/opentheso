<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui">

    <p:dialog id="idEditUserRoleDlg" header="#{langueBean.getMsg('profile.modifyRoleOnGroup')}" widgetVar="editUserRoleDlg" modal="true" resizable="false" >
        <h:form>
            <table>
                <tr>
                    <td>
                        <p:panelGrid columns="2" >
                            <h:outputText value="droit sur le groupe : " /> 
                            <h:outputText value="#{currentUser.nodeUserRoleOnThisGroupEdit.groupName}" style="color: green" />
                        </p:panelGrid>
                        <br/>
                        <h:selectOneMenu value="#{currentUser.roleAdded}">
                            <f:selectItems value="#{currentUser.authorizedRoles}" var="r" itemLabel="#{r.value}" itemValue="#{r.key}" />
                        </h:selectOneMenu>                        
                        <br/>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <p:commandButton value="#{langueBean.getMsg('btnOk')}" actionListener="#{currentUser.updateUserRoleOnGroup(
                                                  currentUser.userEdit.idUser, currentUser.roleAdded, currentUser.nodeUserRoleOnThisGroupEdit.idGroup)}" 
                                              update=":tabUser, :messages" styleClass="styleButton" oncomplete="PF('editUserRoleDlg').hide();"/>
                    </td>
                    <td style="text-align: center;">
                        <p:commandButton value="Cancel" icon="ui-icon-annuler" styleClass="styleButton"  oncomplete="PF('editUserRoleDlg').hide();"  actionListener="#{currentUser.reInit()}" immediate="true"/>
                    </td>                    
                </tr>
            </table>
        </h:form>
    </p:dialog>
</ui:composition>