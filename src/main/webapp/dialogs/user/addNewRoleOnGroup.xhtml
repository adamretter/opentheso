<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui">

    <p:dialog id="idAddNewRoleOnGroup" header="#{langueBean.getMsg('profile.newRole')}" widgetVar="addNewRoleOnGroup" modal="true" resizable="false" >
        <h:form id="addNewRoleOnGroup">
            <table>
                <tr>
                    <td>
                        <p:panelGrid  columns="2" >
                            <h:outputText value="user " /> 
                            <p:selectOneMenu id="listUsers" value="#{currentUser.userSelected}" autoWidth="false">
                                <f:selectItems value="#{currentUser.listeOfUsersWithoutSuperadmin.entrySet()}" var="user" itemLabel="#{user.value}" itemValue="#{user.key}"/>
                            </p:selectOneMenu>
                            
                            <h:outputText value="role " /> 
                            <h:selectOneMenu value="#{currentUser.roleAdded}">
                                <f:selectItems value="#{currentUser.authorizedRoles}" var="r" itemLabel="#{r.value}" itemValue="#{r.key}" />
                            </h:selectOneMenu>    

                            <h:outputText value="groupe " /> 
                            <p:selectOneMenu id="listGroup" value="#{currentUser.groupAdded}" autoWidth="false">
                                <f:selectItems value="#{currentUser.listeGroupsOfUser.entrySet()}" var="group" itemLabel="#{group.value}" itemValue="#{group.key}"/>
                            </p:selectOneMenu>
                            
                        </p:panelGrid>                        
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <p:commandButton value="#{langueBean.getMsg('btnOk')}" actionListener="#{currentUser.addNewRoleOnGroup()}" 
                                              update=":listUsers,:formEditPseudo, :messages" styleClass="styleButton" oncomplete="PF('addNewRoleOnGroup').hide();"/>
                    </td>
                    <td style="text-align: center;">
                        <p:commandButton value="Cancel" icon="ui-icon-annuler" styleClass="styleButton"  oncomplete="PF('addNewRoleOnGroup').hide();"  actionListener="#{currentUser.reInit()}" immediate="true"/>
                    </td>                    
                </tr>
            </table>
        </h:form>
    </p:dialog>
</ui:composition>